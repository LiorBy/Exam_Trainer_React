{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\Exam_Trainer_React\\\\fullstack_app\\\\client\\\\src\\\\download\\\\Download.js\";\nimport React, { Component } from 'react';\nimport './Download.css';\nimport axios from 'axios';\n\nclass Download extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesInDB: false,\n      allFilesAsText: [],\n      allFilesName: [],\n      fileTextThatClicked: ''\n    };\n    this.displyFilesList = this.displyFilesList.bind(this);\n  }\n\n  sendRequestToGetFilesNames() {\n    axios.get(\"http://localhost:8000/download?getOnlyNames=1\").then(res => {\n      const allNamesFromDB = res.data.names;\n      let namesArray = allNamesFromDB.map(item => {\n        return item;\n      });\n      console.log(allNamesFromDB);\n      console.log(namesArray);\n      this.setState({\n        allFilesName: namesArray\n      });\n    }).catch(err => console.log(err));\n  }\n\n  sendRequestToGetFileText(fileID) {\n    axios.get(\"http://localhost:8000/download/\", {\n      params: {\n        id: fileID\n      }\n    }).then(res => {\n      this.setState({\n        fileTextThatClicked: res.data.text\n      });\n    }).catch(err => console.log(err));\n  }\n\n  getAllText(fileName) {//const fileText = this.sendRequestToGetFileText(fileName);\n  }\n\n  displyFilesList() {\n    this.sendRequestToGetFilesNames();\n  }\n\n  render() {\n    let allNames = this.state.allFilesName.map((item, i) => {\n      return React.createElement(\"li\", {\n        \"data-id\": i,\n        key: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, item.name);\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.displyFilesList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Files From DB\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, allNames));\n  }\n\n}\n\nexport default Download;","map":{"version":3,"sources":["C:\\Users\\USER\\Documents\\GitHub\\Exam_Trainer_React\\fullstack_app\\client\\src\\download\\Download.js"],"names":["React","Component","axios","Download","constructor","props","state","filesInDB","allFilesAsText","allFilesName","fileTextThatClicked","displyFilesList","bind","sendRequestToGetFilesNames","get","then","res","allNamesFromDB","data","names","namesArray","map","item","console","log","setState","catch","err","sendRequestToGetFileText","fileID","params","id","text","getAllText","fileName","render","allNames","i","_id","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAC7BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,KADF;AAETC,MAAAA,cAAc,EAAE,EAFP;AAGTC,MAAAA,YAAY,EAAE,EAHL;AAITC,MAAAA,mBAAmB,EAAE;AAJZ,KAAb;AAMA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACH;;AAGDC,EAAAA,0BAA0B,GAAG;AACzBX,IAAAA,KAAK,CAACY,GAAN,CAAU,+CAAV,EACKC,IADL,CACUC,GAAG,IAAI;AACT,YAAMC,cAAc,GAAGD,GAAG,CAACE,IAAJ,CAASC,KAAhC;AACA,UAAIC,UAAU,GAAGH,cAAc,CAACI,GAAf,CAAmBC,IAAI,IAAI;AAAE,eAAOA,IAAP;AAAa,OAA1C,CAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYP,cAAZ;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACA,WAAKK,QAAL,CAAc;AAAEhB,QAAAA,YAAY,EAAEW;AAAhB,OAAd;AAEH,KARL,EAQOM,KARP,CAQaC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CARpB;AAUH;;AAEDC,EAAAA,wBAAwB,CAACC,MAAD,EAAS;AAC7B3B,IAAAA,KAAK,CAACY,GAAN,CAAU,iCAAV,EAA6C;AACzCgB,MAAAA,MAAM,EAAE;AACJC,QAAAA,EAAE,EAAEF;AADA;AADiC,KAA7C,EAKKd,IALL,CAKUC,GAAG,IAAI;AACT,WAAKS,QAAL,CAAc;AAAEf,QAAAA,mBAAmB,EAAEM,GAAG,CAACE,IAAJ,CAASc;AAAhC,OAAd;AACH,KAPL,EAOON,KAPP,CAOaC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAPpB;AAQH;;AAGDM,EAAAA,UAAU,CAACC,QAAD,EAAW,CACjB;AACH;;AAGDvB,EAAAA,eAAe,GAAG;AACd,SAAKE,0BAAL;AAEH;;AACDsB,EAAAA,MAAM,GAAG;AACL,QAAIC,QAAQ,GAAG,KAAK9B,KAAL,CAAWG,YAAX,CAAwBY,GAAxB,CAA4B,CAACC,IAAD,EAAOe,CAAP,KAAa;AACpD,aACI;AACI,mBAASA,CADb;AAEI,QAAA,GAAG,EAAEf,IAAI,CAACgB,GAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEoBhB,IAAI,CAACiB,IAFzB,CADJ;AAMH,KAPc,CAAf;AAQA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,OAAO,EAAE,KAAK5B,eADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKyB,QAAL,CALJ,CADJ;AASH;;AAlE4B;;AAqEjC,eAAejC,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './Download.css';\r\nimport axios from 'axios';\r\n\r\nclass Download extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            filesInDB: false,\r\n            allFilesAsText: [],\r\n            allFilesName: [],\r\n            fileTextThatClicked: ''\r\n        }\r\n        this.displyFilesList = this.displyFilesList.bind(this);\r\n    }\r\n\r\n\r\n    sendRequestToGetFilesNames() {\r\n        axios.get(\"http://localhost:8000/download?getOnlyNames=1\")\r\n            .then(res => {\r\n                const allNamesFromDB = res.data.names;\r\n                let namesArray = allNamesFromDB.map(item => { return item });\r\n                console.log(allNamesFromDB);\r\n                console.log(namesArray);\r\n                this.setState({ allFilesName: namesArray });\r\n\r\n            }).catch(err => console.log(err));\r\n\r\n    }\r\n\r\n    sendRequestToGetFileText(fileID) {\r\n        axios.get(\"http://localhost:8000/download/\", {\r\n            params: {\r\n                id: fileID\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.setState({ fileTextThatClicked: res.data.text});\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n\r\n    getAllText(fileName) {\r\n        //const fileText = this.sendRequestToGetFileText(fileName);\r\n    }\r\n\r\n\r\n    displyFilesList() {\r\n        this.sendRequestToGetFilesNames();\r\n\r\n    }\r\n    render() {\r\n        let allNames = this.state.allFilesName.map((item, i) => {\r\n            return (\r\n                <li\r\n                    data-id={i}\r\n                    key={item._id}>{item.name}\r\n                </li>\r\n            )\r\n        });\r\n        return (\r\n            <div>\r\n                <button\r\n                    onClick={this.displyFilesList}>\r\n                    Files From DB\r\n          </button>\r\n                <ul>{allNames}</ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Download"]},"metadata":{},"sourceType":"module"}