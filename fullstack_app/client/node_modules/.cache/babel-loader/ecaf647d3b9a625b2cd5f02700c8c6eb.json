{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\Exam_Trainer_React\\\\fullstack_app\\\\client\\\\src\\\\download\\\\Download.js\";\nimport React, { Component } from 'react';\nimport './Download.css';\nimport axios from 'axios';\n\nclass Download extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesInDB: false,\n      allFilesAsText: [],\n      allFilesName: []\n    };\n    this.displyFilesList = this.displyFilesList.bind(this);\n  }\n\n  sendRequestToGetFilesNames() {\n    axios.get(\"http://localhost:8000/download\").then(res => {\n      const allNamesFromDB = res.data.names;\n      let namesArray = [];\n      allNamesFromDB.map(item => {\n        let nameAndID = {\n          id: item._id,\n          name: item.name\n        };\n        return namesArray.push(nameAndID);\n      });\n      console.log(namesArray);\n      this.setState({\n        allFilesName: namesArray\n      });\n      console.log(allNamesFromDB);\n    }).catch(err => console.log(err));\n  }\n\n  sendRequestToGetFileText(fileName) {// axios.get(\"http://localhost:8000/download\")\n    // .then(res => {\n    //     allNamesFromDB.map((item) => {\n    //         return(\n    //           namesArray.push(item.name)\n    //         );\n    //     })\n    //     console.log(namesArray);\n    //     this.setState({allFilesName: namesArray});\n    //     console.log(allNamesFromDB);\n    // }).catch(err => console.log(err));\n  }\n\n  getAllText(fileName) {//const fileText = this.sendRequestToGetFileText(fileName);\n  }\n\n  displyFilesList() {\n    this.sendRequestToGetFilesNames();\n  }\n\n  render() {\n    let allNames = this.state.allFilesName.map((item, i) => {\n      return React.createElement(\"li\", {\n        \"data-id\": i,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, item);\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.displyFilesList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Files From DB\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, allNames));\n  }\n\n}\n\nexport default Download;","map":{"version":3,"sources":["C:\\Users\\USER\\Documents\\GitHub\\Exam_Trainer_React\\fullstack_app\\client\\src\\download\\Download.js"],"names":["React","Component","axios","Download","constructor","props","state","filesInDB","allFilesAsText","allFilesName","displyFilesList","bind","sendRequestToGetFilesNames","get","then","res","allNamesFromDB","data","names","namesArray","map","item","nameAndID","id","_id","name","push","console","log","setState","catch","err","sendRequestToGetFileText","fileName","getAllText","render","allNames","i"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAC7BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,KADF;AAETC,MAAAA,cAAc,EAAE,EAFP;AAGTC,MAAAA,YAAY,EAAE;AAHL,KAAb;AAKA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACH;;AAGDC,EAAAA,0BAA0B,GAAG;AAC1BV,IAAAA,KAAK,CAACW,GAAN,CAAU,gCAAV,EACCC,IADD,CACMC,GAAG,IAAI;AACT,YAAMC,cAAc,GAAGD,GAAG,CAACE,IAAJ,CAASC,KAAhC;AACA,UAAIC,UAAU,GAAG,EAAjB;AACAH,MAAAA,cAAc,CAACI,GAAf,CAAoBC,IAAD,IAAU;AACzB,YAAIC,SAAS,GAAG;AAACC,UAAAA,EAAE,EAAEF,IAAI,CAACG,GAAV;AAAeC,UAAAA,IAAI,EAAEJ,IAAI,CAACI;AAA1B,SAAhB;AACA,eAEEN,UAAU,CAACO,IAAX,CAAgBJ,SAAhB,CAFF;AAIH,OAND;AAOAK,MAAAA,OAAO,CAACC,GAAR,CAAYT,UAAZ;AACA,WAAKU,QAAL,CAAc;AAACpB,QAAAA,YAAY,EAAEU;AAAf,OAAd;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYZ,cAAZ;AACH,KAdD,EAcGc,KAdH,CAcSC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAdhB;AAgBF;;AAEFC,EAAAA,wBAAwB,CAACC,QAAD,EAAU,CACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGAC,EAAAA,UAAU,CAACD,QAAD,EAAU,CAClB;AACD;;AAGDvB,EAAAA,eAAe,GAAG;AAChB,SAAKE,0BAAL;AAED;;AACDuB,EAAAA,MAAM,GAAG;AACL,QAAIC,QAAQ,GAAG,KAAK9B,KAAL,CAAWG,YAAX,CAAwBW,GAAxB,CAA4B,CAACC,IAAD,EAAOgB,CAAP,KAAa;AACpD,aACE;AACE,mBAASA,CADX;AAEE,QAAA,GAAG,EAAEA,CAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEWhB,IAFX,CADF;AAOH,KARc,CAAf;AASA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AACI,MAAA,OAAO,EAAE,KAAKX,eADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADA,EAKF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK0B,QAAL,CALE,CADJ;AASH;;AA3E4B;;AA8EjC,eAAejC,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './Download.css';\r\nimport axios from 'axios';\r\n\r\nclass Download extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            filesInDB: false,\r\n            allFilesAsText: [],\r\n            allFilesName: []\r\n        }\r\n        this.displyFilesList = this.displyFilesList.bind(this);\r\n    }\r\n\r\n\r\n    sendRequestToGetFilesNames() {\r\n       axios.get(\"http://localhost:8000/download\")\r\n       .then(res => {\r\n           const allNamesFromDB = res.data.names;\r\n           let namesArray = [];\r\n           allNamesFromDB.map((item) => {\r\n               let nameAndID = {id: item._id, name: item.name};\r\n               return(\r\n                   \r\n                 namesArray.push(nameAndID)\r\n               );\r\n           })\r\n           console.log(namesArray);\r\n           this.setState({allFilesName: namesArray});\r\n           console.log(allNamesFromDB);\r\n       }).catch(err => console.log(err));\r\n\r\n    }\r\n     \r\n   sendRequestToGetFileText(fileName){\r\n    // axios.get(\"http://localhost:8000/download\")\r\n    // .then(res => {\r\n    //     allNamesFromDB.map((item) => {\r\n    //         return(\r\n    //           namesArray.push(item.name)\r\n    //         );\r\n    //     })\r\n    //     console.log(namesArray);\r\n    //     this.setState({allFilesName: namesArray});\r\n    //     console.log(allNamesFromDB);\r\n    // }).catch(err => console.log(err));\r\n   }\r\n\r\n\r\n    getAllText(fileName){\r\n      //const fileText = this.sendRequestToGetFileText(fileName);\r\n    }\r\n\r\n\r\n    displyFilesList() {\r\n      this.sendRequestToGetFilesNames();\r\n\r\n    }\r\n    render() {\r\n        let allNames = this.state.allFilesName.map((item, i) => {\r\n            return (\r\n              <li \r\n                data-id={i}\r\n                key={i}>{item}\r\n                \r\n                </li>\r\n            )\r\n        }); \r\n        return (\r\n            <div>\r\n            <button\r\n                onClick={this.displyFilesList}>\r\n                Files From DB\r\n          </button>\r\n          <ul>{allNames}</ul>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Download"]},"metadata":{},"sourceType":"module"}