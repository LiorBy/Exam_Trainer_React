{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\Exam_Trainer_React\\\\fullstack_app\\\\client\\\\src\\\\download\\\\Download.js\";\nimport React, { Component } from 'react';\nimport './Download.css';\nimport axios from 'axios'; //import ListGroup from 'react-bootstrap/ListGroup'\n\nclass Download extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesInDB: false,\n      allFilesAsText: [],\n      allFilesName: [],\n      fileTextThatClicked: ''\n    };\n    this.displyFilesList = this.displyFilesList.bind(this);\n    this.sendRequestToGetFileText = this.sendRequestToGetFileText.bind(this);\n    this.sendRequestToGetFilesNames = this.sendRequestToGetFilesNames.bind(this);\n    this.getAllTextClick = this.getAllTextClick.bind(this);\n  }\n\n  sendRequestToGetFilesNames() {\n    axios.get(\"/download?getOnlyNames=1\").then(res => {\n      const allNamesFromDB = res.data.names;\n      let namesArray = allNamesFromDB.map(item => {\n        return item;\n      });\n      console.log(allNamesFromDB);\n      console.log(namesArray);\n      this.setState({\n        allFilesName: namesArray\n      });\n    }).catch(err => console.log(err));\n  }\n\n  sendRequestToGetFileText(fileID) {\n    axios.get(\"http://localhost:8000/download?id=\".concat(fileID)).then(res => {\n      let onlyText = res.data.text.text;\n      let fileName = res.data.text.name;\n      let nameAndText = {\n        name: fileName,\n        text: onlyText\n      };\n      console.log(onlyText);\n      this.setState({\n        fileTextThatClicked: onlyText\n      });\n      this.props.callbackWithText(nameAndText);\n    }).catch(err => console.log(err));\n  }\n\n  getAllTextClick(fileID) {\n    console.log('getAllTextClick() ' + fileID);\n    this.sendRequestToGetFileText(fileID); //this.props.callbackWithText(this.state.fileTextThatClicked);\n  }\n\n  displyFilesList() {\n    console.log('displyFilesList()');\n    this.sendRequestToGetFilesNames(); //this.props.callbackWithText(this.state.fileTextThatClicked);\n  }\n\n  render() {\n    let allNames = this.state.allFilesName.map((item, i) => {\n      return React.createElement(\"li\", {\n        onClick: () => this.getAllTextClick(item._id),\n        \"data-id\": i,\n        key: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, item.name);\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.displyFilesList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Files From DB\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, allNames))));\n  }\n\n}\n\nexport default Download;","map":{"version":3,"sources":["C:\\Users\\USER\\Documents\\GitHub\\Exam_Trainer_React\\fullstack_app\\client\\src\\download\\Download.js"],"names":["React","Component","axios","Download","constructor","props","state","filesInDB","allFilesAsText","allFilesName","fileTextThatClicked","displyFilesList","bind","sendRequestToGetFileText","sendRequestToGetFilesNames","getAllTextClick","get","then","res","allNamesFromDB","data","names","namesArray","map","item","console","log","setState","catch","err","fileID","onlyText","text","fileName","name","nameAndText","callbackWithText","render","allNames","i","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './Download.css';\r\nimport axios from 'axios';\r\n//import ListGroup from 'react-bootstrap/ListGroup'\r\n\r\nclass Download extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            filesInDB: false,\r\n            allFilesAsText: [],\r\n            allFilesName: [],\r\n            fileTextThatClicked: ''\r\n        }\r\n        this.displyFilesList = this.displyFilesList.bind(this);\r\n        this.sendRequestToGetFileText = this.sendRequestToGetFileText.bind(this);\r\n        this.sendRequestToGetFilesNames = this.sendRequestToGetFilesNames.bind(this);\r\n        this.getAllTextClick = this.getAllTextClick.bind(this);\r\n    }\r\n\r\n\r\n    sendRequestToGetFilesNames() {\r\n        axios.get(\"/download?getOnlyNames=1\")\r\n            .then(res => {\r\n                const allNamesFromDB = res.data.names;\r\n                let namesArray = allNamesFromDB.map(item => { return item });\r\n                console.log(allNamesFromDB);\r\n                console.log(namesArray);\r\n                this.setState({ allFilesName: namesArray });\r\n\r\n            }).catch(err => console.log(err));\r\n\r\n    }\r\n\r\n    sendRequestToGetFileText(fileID) {\r\n        axios.get(`http://localhost:8000/download?id=${fileID}`)\r\n            .then(res => {\r\n                let onlyText = res.data.text.text;\r\n                let fileName = res.data.text.name;\r\n                let nameAndText = {name: fileName, text: onlyText}\r\n                console.log(onlyText);\r\n                this.setState({ fileTextThatClicked: onlyText });\r\n                this.props.callbackWithText(nameAndText);\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n\r\n    getAllTextClick(fileID) {\r\n        console.log('getAllTextClick() ' + fileID);\r\n        this.sendRequestToGetFileText(fileID);\r\n        //this.props.callbackWithText(this.state.fileTextThatClicked);\r\n    }\r\n\r\n\r\n    displyFilesList() {\r\n        console.log('displyFilesList()');\r\n        this.sendRequestToGetFilesNames();\r\n        //this.props.callbackWithText(this.state.fileTextThatClicked);\r\n    }\r\n\r\n\r\n    render() {\r\n        let allNames = this.state.allFilesName.map((item, i) => {\r\n            return (\r\n                <li onClick={() => this.getAllTextClick(item._id)}\r\n                    data-id={i}\r\n                    key={item._id}>{item.name}\r\n                </li>\r\n            )\r\n        });\r\n        return (\r\n            <div>\r\n                <button\r\n                    onClick={this.displyFilesList}>\r\n                    Files From DB</button>\r\n                <div>\r\n                    <div>\r\n                        <ul >{allNames}</ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Download"]},"metadata":{},"sourceType":"module"}